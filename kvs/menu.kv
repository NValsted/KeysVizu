#:kivy 2.0.0
#:include kvs/misc/custom_buttons.kv
#:include kvs/misc/file_browser.kv
#:include kvs/misc/style_previews.kv

<TabbedPanelHeader>:
    background_normal: 'UI/menu/testB.png'
    background_down: 'UI/menu/test2.png'

<SettingsTab>:
    tab_title: "SettingsTab"
    orientation: "vertical"
    tab_info_BoxL: tab_info_BoxL

    BoxLayout:
        id: tab_info_BoxL
        orientation: 'vertical'
        size_hint_y: 0.075
        
        Label:
            text: root.tab_title
            font_size: 30

<ProjectSettings>:
    midi_load_button: midi_load_button
    midi_text_button: midi_text_button
    settings_tab: settings_tab
    text: "Project"
        
    SettingsTab:
        id: settings_tab
        tab_title: "Project settings"

        BoxLayout:
            id: tab_content_BoxL
            orientation: 'vertical'
            size_hint_y: 1-settings_tab.tab_info_BoxL.size_hint_y

            Label:
                id: midi_file_selection_title
                text: "MIDI file"
                size_hint_y: 0.05
            
            BoxLayout:
                id: midi_file_selection
                orientation: 'horizontal'
                size_hint_y: 0.05

                HoverButton:
                    id: midi_load_button
                    text: "L"
                    size_hint_x: 0.2
                    on_press: root.load_schedule_location()

                Button:
                    id: midi_text_button
                    text: "Select MIDI File"
                    size_hint_x: 0.8
                    background_color: (0,0,0,0)
                    
                    on_press: root.load_schedule_location()

            Label:
                text: "bonk"
                size_hint_y: 1 - midi_file_selection.size_hint_y - midi_file_selection_title.size_hint_y

<StyleSettings>
    settings_tab: settings_tab
    text: "Style"

    SettingsTab:
        id: settings_tab
        tab_title: "Style settings"

        BoxLayout:
            id: tab_content_BoxL
            orientation: 'vertical'
            size_hint_y: 1-settings_tab.tab_info_BoxL.size_hint_y

            BoxLayout:
                orientation: 'horizontal'

                NoteStylePreview:
                    id: bonk

                BoxLayout:
                    orientation: 'vertical'

                    Label:
                        text: "channel"

                    BoxLayout:
                        orientation: 'horizontal'

                        Button:
                            text: "color"

                        Label:
                            text: "notes"


            Label:
                text: "unleash the coloures"

            ColorPicker:
                on_color: pass

<Menu>:
    project_settings: project_settings
    style_settings: style_settings
    tabbed_panel: tabbed_panel

    TabbedPanel:
        id: tabbed_panel
        do_default_tab: False
        tab_pos: 'left_top'
        tab_width: self.height/len(self.tab_list)

        size: self.parent.size
        pos: self.parent.pos

        StyleSettings:
            id: style_settings

        ProjectSettings:
            id: project_settings