#:kivy 2.0.0

<BlackKey>:
    note: self.note
    standard_color: self.standard_color

    canvas:
        Color:
            rgb: self.standard_color
        Rectangle:
            size: self.width,self.height #self.parent.width/88, self.parent.height*0.8
            pos: self.pos

<WhiteKey>:
    note: self.note
    standard_color: self.standard_color

    canvas:
        Color:
            rgb: self.standard_color
        Rectangle:
            size: self.width,self.height #self.parent.width/88, self.parent.height
            pos: self.pos

<PianoNote>:
    note: self.note
    key_idx: self.key_idx
    channel: self.channel
    color: self.color
    stroke_color: self.stroke_color

    canvas:
        Color:
            rgba: self.color
        RoundedRectangle:
            size: self.width,self.height
            pos: self.pos
            radius: 5, 5, 2.5, 2.5
        
        Color:
            rgba: self.stroke_color
        Line:
            width: 1.5
            rounded_rectangle: (*self.pos,*self.size,5)

<GuideLine>:
    standard_color: self.standard_color
    points: self.points

    canvas:
        Color:
            rgb: self.standard_color
        Line:
            points: self.points
            width: 1

<Keybed>:
    size: self.parent.width, self.parent.height*0.2
    pos: self.parent.pos

    canvas:
        Color:
            rgb: (0,0,0)
        Rectangle:
            size: self.width,self.height
            pos: self.pos

<PianoRoll>:
    size: self.parent.width, self.parent.height
    pos: self.parent.pos

<Stage>:
    pianoroll: pianoroll
    keybed: keybed

    size: self.size
    pos: self.pos

    PianoRoll:
        id: pianoroll

    Keybed:
        id: keybed